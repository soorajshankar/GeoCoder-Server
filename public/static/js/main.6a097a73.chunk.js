(window["webpackJsonpgoogle-maps"]=window["webpackJsonpgoogle-maps"]||[]).push([[0],{142:function(e,t,a){e.exports=a(300)},147:function(e,t,a){},298:function(e,t,a){},300:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(4),c=a.n(o),i={isMapLoaded:!1,mapInstance:null,markers:[],mapLoaded:function(){i.isMapLoaded=!0},setMapObject:function(e){i.mapInstance=e},addMarker:function(e){i.markers.push(e)},removeMarker:function(e){},removeAllMarkers:function(){for(var e=0;e<i.markers.length;e++)i.markers[e]&&i.markers[e].setMap(null)},setMapOnAll:function(e){for(var t=0;t<i.markers.length;t++)i.markers[t]&&i.markers[t].setMap(e)},editMarker:function(e){}},s=r.a.createContext({}),l=(a(147),a(60)),u=a(61),m=a(62),d=a(66),p=a(63),f=a(67),E={EDIT_MODE:"EDIT_MODE",NORMAL_MODE:"NORMAL_MODE",ADD_MODE:"ADD_MODE"},O="ADD_MODE",v={lat:52.527744,lng:13.24112},k=function(e){return r.a.createElement("div",{className:"c-mapview ".concat(e.viewMode===E.EDIT_MODE?"c-mapview--expanded":"c-mapview--collapse")},e.children)},M=function(e){return r.a.createElement("div",{className:"c-sideview ".concat(e.viewMode===E.EDIT_MODE?"c-sideview--collapse":"c-sideview--expanded")},e.children)},g=a(23),b=a(305),h=a(303),w=a(304),j=a(306);function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var D={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},_=function(e){var t=Object(n.useState)(e.marker.name||void 0),a=Object(g.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(e.marker.lat),s=Object(g.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)(e.marker.lng),p=Object(g.a)(d,2),f=p[0],E=p[1],v=Object(n.useState)(void 0),k=Object(g.a)(v,2),M=k[0],_=k[1],C=e.marker,A=e.mode;return r.a.createElement(b.a,{title:A===O?"Add Marker":"Edit Marker",visible:!0,onOk:function(){return o&&u&&f?e.onSubmit(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(a,!0).forEach(function(t){Object(l.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},C,{name:o,lat:Number(u),lng:Number(f)})):_("Please check all the fields!")},onCancel:e.onCancel},r.a.createElement(h.a,D,r.a.createElement("article",{className:"c-list__card"},r.a.createElement(h.a.Item,{label:"Name"},r.a.createElement(w.a,{placeholder:"Name this marker",value:o,onChange:function(e){return c(e.target.value)}})),r.a.createElement(h.a.Item,{label:"Latitude"},r.a.createElement(w.a,{value:u,onChange:function(e){return m(e.target.value)}})),r.a.createElement(h.a.Item,{label:"Longitude",er:!0},r.a.createElement(w.a,{value:f,onChange:function(e){return E(e.target.value)}})),M&&r.a.createElement(j.a,{message:M,type:"error"}))))},C=function(e){return new window.google.maps.Map(document.getElementById("map"),{zoom:12,center:e,mapTypeId:"terrain"})},A=function(e,t){return e.map(function(e){return new window.google.maps.Marker({position:{lat:e.lat,lng:e.lng},map:t})})},I=Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_BASE_SERVICE_URL||"",S="GOOGLE",L={GOOGLE_MAP_API_KEY:"AIzaSyAMQ_lokx5I3FFYafAuC1B2VcxCIuX13Gs",serviceUrls:{marker:"".concat(I,"/api/markers"),geoCoder:"".concat(I,"/api/geoCoder")}},N=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).initMap=function(){a.setState({isMapLoaded:!0});var e=a.props,t=e.focusLocation,n=e.markers;window.google&&(a.context.mapInstance=C(t),a.context.removeAllMarkers(),a.context.markers=A(n,a.context.mapInstance))},a.state={isMapLoaded:!1},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){window.initMap=this.initMap,function(e){var t=window.document.getElementsByTagName("script")[0],a=window.document.createElement("script");a.src=e,a.async=!0,t&&t.parentNode.insertBefore(a,t)}(function(e,t){switch(t){case S:default:return"https://maps.googleapis.com/maps/api/js?key=".concat(e,"&callback=initMap")}}(this.props.apiKey,S))}},{key:"componentDidUpdate",value:function(e){if(this.props.markers!==e.markers){var t=this.props.markers;this.context.mapInstance&&(window.mapppp=this.context.mapInstance,this.context.removeAllMarkers(),this.context.markers=A(t,this.context.mapInstance))}Object.is(this.props.focusLocation,e.focusLocation)||this.context.mapInstance.setCenter(this.props.focusLocation)}},{key:"render",value:function(){var e=this.state.isMapLoaded;return r.a.createElement(r.a.Fragment,null,!e&&r.a.createElement(P,null),r.a.createElement("div",{id:"map"}))}}]),t}(n.PureComponent);N.contextType=s;var P=function(){return r.a.createElement("div",{className:"c-loading"},"Loading...")},x=function(e){var t=e.onRemove,a=e.onEdit;return r.a.createElement("div",{className:"c-list"},e.markers&&e.markers.map(function(n,o){return r.a.createElement("article",{key:o,className:"c-list__card"},r.a.createElement("header",{className:"cursor-zoom",onClick:function(){return e.onItemClick(n)}},n.name),r.a.createElement("p",null,"lat :",n.lat),r.a.createElement("p",null,"lng :",n.lng),r.a.createElement("footer",null,r.a.createElement("button",{onClick:function(){return a(n,o)}},"Edit"),r.a.createElement("span",null,"or"),r.a.createElement("button",{onClick:function(){return t(n,o)}},"Remove")))}))},R=function(e){var t=e.onClick;return r.a.createElement("div",{className:"c-add-marker"},r.a.createElement("button",{className:"c-add-marker__btn",onClick:t},"Add Marker"))},T=a(40),B=a.n(T),G=L.serviceUrls,K=function(e){return B.a.post(G.marker,e)},U=function(e){return B.a.put("".concat(G.marker,"/").concat(e._id),e)},V=function(e){return B.a.delete("".concat(G.marker,"/").concat(e._id))},F=a(301),z=a(302),Y=a(24),J=function(e){var t=Object(n.useState)(void 0),a=Object(g.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)([]),s=Object(g.a)(i,2),l=s[0],u=s[1],m=Object(n.useState)(void 0),d=Object(g.a)(m,2),p=d[0],f=d[1],E=Object(n.useState)(!1),O=Object(g.a)(E,2),v=O[0],k=O[1],M=function(){var e;(e=o,B.a.get("".concat(G.geoCoder,"/").concat(e))).then(function(e,t){k(!1),t||(u(e.data.data||[]),f(e.data.data&&e.data.data.length?void 0:"No Results found"))}),k(!0)};return r.a.createElement(b.a,{className:"find-address",title:"Add Marker",visible:!0,onOk:function(){return console.log("OK")},onCancel:e.onClose,footer:[null]},r.a.createElement(F.a,null,r.a.createElement(z.a,{span:19},r.a.createElement(w.a,{placeholder:"Search address here..",value:o,onChange:function(e){return c(e.target.value)},onKeyDown:function(e){return"Enter"==e.key&&M()}})),r.a.createElement(z.a,{span:5},r.a.createElement(Y.a,{type:"primary",icon:v&&"loading",onClick:M},"Search"))),r.a.createElement(F.a,{className:"search-list"},l.map(function(t,a){return r.a.createElement("article",{key:a,className:"c-list__card"},r.a.createElement("header",null,t.name),r.a.createElement("p",null,"lat :",t.lat),r.a.createElement("p",null,"lng :",t.lng),r.a.createElement("footer",null,r.a.createElement("button",{onClick:function(){return e.onSubmit(t)}},"Add to Map")))}),p&&r.a.createElement(j.a,{type:"warning",message:p})))};function W(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?W(a,!0).forEach(function(t){Object(l.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):W(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var X=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).addToMarkers=function(e){K(e).then(function(e){200===e.status&&a.setState({markers:e.data,viewMode:E.NORMAL_MODE})}).catch(function(e){return console.error("Axios Error :",e)})},a.onRemoveMarker=function(e,t){V(e).then(function(e){200===e.status&&a.setState({markers:e.data})}).catch(function(e){return console.error("Axios Error :",e)})},a.onEditMarker=function(e,t){a.setState({viewMode:E.EDIT_MODE,edittingMarker:Q({index:t},e)})},a.onEditConfirm=function(e){U(e).then(function(e){200===e.status&&a.setState({markers:e.data,edittingMarker:void 0,viewMode:E.NORMAL_MODE})}).catch(function(e){return console.error("Axios Error :",e)})},a.toggleViewMode=function(){return a.setState({viewMode:E.ADD_MODE})},a.onItemClick=function(e){return a.setState({focusLoc:e})},a.state={markers:[],edittingMarker:void 0,viewMode:E.NORMAL_MODE,focusLoc:v},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;B.a.get(G.marker).then(function(t){200===t.status&&e.setState({markers:t.data})}).catch(function(e){return console.error("Axios Error :",e)})}},{key:"render",value:function(){var e=this,t=this.state,a=t.markers,n=t.edittingMarker,o=t.viewMode,c=t.focusLoc;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"c-layout"},r.a.createElement(k,{viewMode:o},r.a.createElement(N,{apiKey:L.GOOGLE_MAP_API_KEY,focusLocation:c,markers:a,viewMode:o})),r.a.createElement(M,{viewMode:o},r.a.createElement(R,{onClick:function(){return e.toggleViewMode()}}),r.a.createElement(x,{markers:a,onRemove:this.onRemoveMarker,onEdit:this.onEditMarker,onItemClick:this.onItemClick})),o===E.ADD_MODE&&r.a.createElement(J,{onClose:function(){return e.setState({viewMode:E.NORMAL_MODE})},onSubmit:this.addToMarkers}),o===E.EDIT_MODE&&n&&r.a.createElement(_,{marker:n,onSubmit:this.onEditConfirm,onCancel:function(){return e.setState({viewMode:E.NORMAL_MODE,edittingMarker:void 0})}})))}}]),t}(n.Component);a(298),a(299);var $=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(X,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(s.Provider,{value:i},r.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[142,1,2]]]);
//# sourceMappingURL=main.6a097a73.chunk.js.map